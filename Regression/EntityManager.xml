<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="a72b395e-df0a-4bd4-a28d-d30e1990925c" discardOkResults="true" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="EntityManager" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="a72b395e-df0a-4bd4-a28d-d30e1990925cfileName">EntityManager</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="restrequest" name="Login" id="be98fecd-ed52-47d8-b59b-1f505b614927">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/login" methodName="login" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="Login" id="19c8389d-329a-4f2b-879f-ad35fe23942c" mediaType="application/x-www-form-urlencoded" postQueryString="true">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="timezone-offset" value="-7" xmlns="http://eviware.com/soapui/config"/></con:setting>
        </con:settings>
        <con:endpoint>${#Project#endpoint}</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/login</con:originalUri>
        <con:assertion type="JsonPath Match" id="75fc935a-dfe4-4f6e-9029-a1939d6e560f" name="Login = true">
          <con:configuration>
            <path>$['login']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="c331986e-69e1-4678-8faa-f778df0d8cdc" name="userName = xs1apiregression">
          <con:configuration>
            <path>$['userName']</path>
            <content>xs1apiregression</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="password" value="${#Project#password}"/>
          <con:entry key="username" value="${#Project#username}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>username</con:entry>
          <con:entry>password</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="setTokenAndCookie" id="97a405c1-5c08-4572-8008-16bcc439d725">
    <con:settings/>
    <con:config>
      <script>def val = testRunner.testCase.testSteps['Login'].testRequest.response.getResponseHeaders()
loggedInValue = "true"

Map&lt;String,List> values  = new HashMap&lt;String,String>();

for(int j = 0; j &lt; val.get("Set-Cookie").size(); j++)
{
	
	def cjar = val.get("Set-Cookie")[j]
	def cookies = cjar.tokenize("\\;")
	
	cookies.each() 
	{ cookie ->
    	def pair = cookie.tokenize("\\=")
    	values.put(pair[0], pair[1])
    
    		log.info( "Key: " + pair[0] + ", Val: " + pair[1] )
	}
}

		values.keySet()
		if (values.get("SESSION") == null)
		{
			loggedInValue = "false"
		}
		log.info("LOGGED IN: " + loggedInValue)
		testRunner.testCase.testSuite.project.setPropertyValue("loggedIn", loggedInValue)
		testRunner.testCase.testSuite.project.setPropertyValue( 'token', values.get("XSRF-TOKEN"))
		testRunner.testCase.testSuite.project.setPropertyValue( 'cookie', "SESSION="+values.get("SESSION" ))

		//Generate TransactionID
		//def random = (int)(Math.random()*1000);
          //testRunner.testCase.testSuite.project.setPropertyValue("RandomID", String.valueOf((int)(Math.random()*100000)) );</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="create_monitor" id="0b720a19-a82e-4552-99af-0b98857d6ee5">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/monitor/" methodName="createMonitor" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="create_monitor" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request>{
   "monitor":{
      "monitorId":-1,
      "monitorName":"ApiUserMonitor1",
      "entityTypeId":1,
      "nodeFilters":[
         {
            "nodeFilter":"\\*",

            "entityFilter":"qa.olgag"
         }
      ],
      "analysisType":"Integrity Check",
      "visibility":"Private",
      "criticality":"Medium",
      "alertSettings":{
         "onMissing":true,
         "onNew":true,
         "active":true
      },
      "schedule":{
         "triggerType":"Simple",
         "startDateTime":1555039920000,
         "repeatInterval":1,
         "repeatUnit":"Hours"
      },
      "attributes":[
         {
            "attributeTypeId":3,
            "attributeTypeName":"AuditAuthenticateFail",
            "alert":true
         },
         {
            "attributeTypeId":4,
            "attributeTypeName":"AuditAuthenticatePass",
            "alert":true
         },
         {
            "attributeTypeId":5,
            "attributeTypeName":"AuditManageFail",
            "alert":true
         },
         {
            "attributeTypeId":6,
            "attributeTypeName":"AuditManagePass",
            "alert":true
         },
         {
            "attributeTypeId":7,
            "attributeTypeName":"AuditUserActionFail",
            "alert":true
         },
         {
            "attributeTypeId":8,
            "attributeTypeName":"AuditUserActionPass",
            "alert":true
         },
         {
            "attributeTypeId":10,
            "attributeTypeName":"CiCpu",
            "alert":true
         },
         {
            "attributeTypeId":11,
            "attributeTypeName":"CiLib",
            "alert":true
         },
         {
            "attributeTypeId":12,
            "attributeTypeName":"CiName",
            "alert":true
         },
         {
            "attributeTypeId":13,
            "attributeTypeName":"CiParamText",
            "alert":true
         },
         {
            "attributeTypeId":14,
            "attributeTypeName":"CiPri",
            "alert":true
         },
         {
            "attributeTypeId":15,
            "attributeTypeName":"CiProg",
            "alert":true
         },
         {
            "attributeTypeId":16,
            "attributeTypeName":"CiSwap",
            "alert":true
         },
         {
            "attributeTypeId":18,
            "attributeTypeName":"CreationTime",
            "alert":true
         },
         {
            "attributeTypeId":19,
            "attributeTypeName":"CreatorGroupNumber",
            "alert":true
         },
         {
            "attributeTypeId":20,
            "attributeTypeName":"CreatorLoginName",
            "alert":true
         },
         {
            "attributeTypeId":22,
            "attributeTypeName":"CreatorNodeNumber",
            "alert":true
         },
         {
            "attributeTypeId":23,
            "attributeTypeName":"CreatorType",
            "alert":true
         },
         {
            "attributeTypeId":24,
            "attributeTypeName":"CreatorUserNumber",
            "alert":true
         },
         {
            "attributeTypeId":25,
            "attributeTypeName":"DefaultSecurity",
            "alert":true
         },
         {
            "attributeTypeId":26,
            "attributeTypeName":"DefaultSubvol",
            "alert":true
         },
         {
            "attributeTypeId":27,
            "attributeTypeName":"DefaultVol",
            "alert":true
         },
         {
            "attributeTypeId":29,
            "attributeTypeName":"DPAclCount",
            "alert":true
         },
         {
            "attributeTypeId":30,
            "attributeTypeName":"DPAuditAccessFail",
            "alert":true
         },
         {
            "attributeTypeId":31,
            "attributeTypeName":"DPAuditAccessPass",
            "alert":true
         },
         {
            "attributeTypeId":32,
            "attributeTypeName":"DPAuditManageFail",
            "alert":true
         },
         {
            "attributeTypeId":33,
            "attributeTypeName":"DPAuditManagePass",
            "alert":true
         },
         {
            "attributeTypeId":34,
            "attributeTypeName":"DPOwnerGroupNumber",
            "alert":true
         },
         {
            "attributeTypeId":35,
            "attributeTypeName":"DPOwnerUserNumber",
            "alert":true
         },
         {
            "attributeTypeId":37,
            "attributeTypeName":"FailedLogonCount",
            "alert":true
         },
         {
            "attributeTypeId":39,
            "attributeTypeName":"GroupNumber",
            "alert":true
         },
         {
            "attributeTypeId":41,
            "attributeTypeName":"InitialDirectory",
            "alert":true
         },
         {
            "attributeTypeId":42,
            "attributeTypeName":"InitialProgram",
            "alert":true
         },
         {
            "attributeTypeId":43,
            "attributeTypeName":"InitialProgType",
            "alert":true
         },
         {
            "attributeTypeId":282,
            "attributeTypeName":"IsAlias",
            "alert":true
         },
         {
            "attributeTypeId":44,
            "attributeTypeName":"IsFrozen",
            "alert":true
         },
         {
            "attributeTypeId":45,
            "attributeTypeName":"LastLogon",
            "alert":true
         },
         {
            "attributeTypeId":86,
            "attributeTypeName":"LastModified",
            "alert":true
         },
         {
            "attributeTypeId":47,
            "attributeTypeName":"LastUnsuccessfulAttempt",
            "alert":true
         },
         {
            "attributeTypeId":52,
            "attributeTypeName":"OwnerGroupNumber",
            "alert":true
         },
         {
            "attributeTypeId":53,
            "attributeTypeName":"OwnerUserNumber",
            "alert":true
         },
         {
            "attributeTypeId":54,
            "attributeTypeName":"PasswordExpires",
            "alert":true
         },
         {
            "attributeTypeId":55,
            "attributeTypeName":"PasswordExpiryGrace",
            "alert":true
         },
         {
            "attributeTypeId":56,
            "attributeTypeName":"PasswordIsExpired",
            "alert":true
         },
         {
            "attributeTypeId":57,
            "attributeTypeName":"PasswordLastChange",
            "alert":true
         },
         {
            "attributeTypeId":58,
            "attributeTypeName":"PasswordMayChange",
            "alert":true
         },
         {
            "attributeTypeId":59,
            "attributeTypeName":"PasswordMustChange",
            "alert":true
         },
         {
            "attributeTypeId":60,
            "attributeTypeName":"PrimaryGroupNumber",
            "alert":true
         },
         {
            "attributeTypeId":65,
            "attributeTypeName":"StaticFailedLogonCount",
            "alert":true
         },
         {
            "attributeTypeId":66,
            "attributeTypeName":"StaticFailedLogonReset",
            "alert":true
         },
         {
            "attributeTypeId":67,
            "attributeTypeName":"Status",
            "alert":true
         },
         {
            "attributeTypeId":70,
            "attributeTypeName":"TextDescription",
            "alert":true
         },
         {
            "attributeTypeId":626,
            "attributeTypeName":"UID",
            "alert":true
         },
         {
            "attributeTypeId":71,
            "attributeTypeName":"UserExpires",
            "alert":true
         },
         {
            "attributeTypeId":72,
            "attributeTypeName":"UserIsExpired",
            "alert":true
         },
         {
            "attributeTypeId":74,
            "attributeTypeName":"UserNumber",
            "alert":true
         }
      ],
      "groups":[],
      "policies":[
         6,
         39,
         38,
         40,
         4,
         5,
         45,
         1,
         3,
         2,
         48
      ]
   }
}</con:request>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="JsonPath Count" id="49416787-e39e-4ce4-a51d-bd92ade162a9" name="Error count = 0">
          <con:configuration>
            <path>$['error']</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="1d44e70a-87fd-436b-bc2a-22456beba348" name="MonitorName is correct">
          <con:configuration>
            <path>$['monitor']['monitorName']</path>
            <content>ApiUserMonitor1</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>monitorId</con:entry>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry/>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="saveCurrentMonitorId" id="ed3e042d-4e1d-421a-9851-d6dabcfa58bf">
    <con:settings/>
    <con:config>
      <script>import groovy. json.*
import java.io.*;
import java.util.Iterator;
		def response=context.expand('${create_monitor#Response}')		
		def json = new JsonSlurper().parseText(response)
		currentID = json['monitor']['monitorId']
		//log.info currentID

		testRunner.testCase.testSuite.setPropertyValue( 'currentMonitorID', currentID.toString())</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="run_monitor" id="e016a4dd-7941-47bc-8b33-e8f1cab7b8cb">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/collection/run/{monitorId}" methodName="runMonitorNow" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="run_monitor" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="1a2d1144-138b-47a1-a0c5-90dce31aed42" name="Valid HTTP Status Code = 200">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>monitorId</con:entry>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry/>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="delay" name="waitForMonitorAlerts" id="b199fd90-e12f-43a8-a478-5fbc96aaa7a1">
    <con:settings/>
    <con:config>
      <delay>20000</delay>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="get_list_included_entities" id="f551e91c-44ca-4785-b3f5-c40224e72ab4">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/entity/included/{monitorId}" methodName="entityManagerGetListIncludedEntities" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="get_list_included_entities" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="JsonPath Count" id="49416787-e39e-4ce4-a51d-bd92ade162a9" name="Error count = 0">
          <con:configuration>
            <path>$['error']</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="a877d8e4-23f4-4216-8182-f1fe53ea19f7" name=" items exists (JsonPath Existence Match)">
          <con:configuration>
            <path>$['items']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="94ab5b56-c6b7-4990-844d-0fadd71907ac" name=" entityId exists (JsonPath Existence Match)">
          <con:configuration>
            <path>$['items'][0]['entityId']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="gridParameters" value="{&quot;skip&quot;:0,&quot;take&quot;:25,&quot;filter&quot;:{&quot;logic&quot;:&quot;and&quot;,&quot;filters&quot;:[]},&quot;sortField&quot;:&quot;entityName&quot;,&quot;sortDir&quot;:&quot;desc&quot;}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry>monitorId</con:entry>
          <con:entry>gridParameters</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="saveCurrentEntityId" id="0c0898c1-69fe-4f86-afa8-ceaa8ffc0454">
    <con:settings/>
    <con:config>
      <script>import groovy. json.*
import java.io.*;
import java.util.Iterator;
		def response=context.expand('${get_list_included_entities#Response}')		
		def json = new JsonSlurper().parseText(response)
		currentEntityID = json['items'][0]['entityId']
		//log.info currentEntityID

		testRunner.testCase.testSuite.setPropertyValue( 'currentEntityID', currentEntityID.toString())</script>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="baseline_all_entities" id="e5002ffd-3b8f-4379-9571-3fd942d2c229">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/baseline/monitorid/{monitorId}" methodName="entityManagerBaselineAllEntity" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="baseline_all_entities" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="c3698e28-36d7-4ac6-8a8e-fc4302ca0add" name="Valid HTTP Status Code = 200">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="filter" value="{&quot;field&quot;:&quot;keyName&quot;,&quot;operator&quot;:&quot;eq&quot;,&quot;value&quot;:&quot;QA.OLGAG&quot;}"/>
          <con:entry key="take" value="25"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="sortField" value="keyName"/>
          <con:entry key="skip" value="0"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="sortDir" value="asc"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>monitorId</con:entry>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry/>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="select_entity" id="bfaaf7d4-2081-418f-8520-af52af20e2af">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/entity/attribute/entityid/{entityid}/monitorid/{monitorId}" methodName="entityManagerSelectEntity" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="select_entity" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="c3698e28-36d7-4ac6-8a8e-fc4302ca0add" name="Valid HTTP Status Codes -200">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Count" name="Error count = 0" id="19ca21c4-b654-415a-ac94-6120def8144c">
          <con:configuration>
            <path>$['error']</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" name="AuditAuthenticateFail exists (JsonPath Existence Match)" id="cb77b57e-ed3b-40c3-9a4a-9469aef7dbdf">
          <con:configuration>
            <path>$['AuditAuthenticateFail'][value]</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="filter" value="{&quot;field&quot;:&quot;keyName&quot;,&quot;operator&quot;:&quot;eq&quot;,&quot;value&quot;:&quot;QA.OLGAG&quot;}"/>
          <con:entry key="take" value="25"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="sortField" value="keyName"/>
          <con:entry key="skip" value="0"/>
          <con:entry key="entityid" value="${#TestSuite#currentEntityID}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="sortDir" value="asc"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>monitorId</con:entry>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry/>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="baseline_entity" id="d07896fa-48d4-4544-b90b-e5f947d2d41e">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/baseline/monitorid/{monitorId}/entityIds" methodName="entityManagerBaselineEntity" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="baseline_entity" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request>[${#TestSuite#currentEntityID}]</con:request>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="c3698e28-36d7-4ac6-8a8e-fc4302ca0add" name="Valid HTTP Status Codes -200">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="filter" value="{&quot;field&quot;:&quot;keyName&quot;,&quot;operator&quot;:&quot;eq&quot;,&quot;value&quot;:&quot;QA.OLGAG&quot;}"/>
          <con:entry key="take" value="25"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="sortField" value="keyName"/>
          <con:entry key="skip" value="0"/>
          <con:entry key="entityid" value="${#TestSuite#currentEntityID}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="sortDir" value="asc"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>monitorId</con:entry>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry/>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="delete_baseline_entity" id="cffce04c-5062-4d0e-a915-77cedc3d9f63">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/baseline/monitorid/{monitorId}/entityIds" methodName="entityManagerDeleteBaselineEntity" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="delete_baseline_entity" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request>[${#TestSuite#currentEntityID}]</con:request>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="c3698e28-36d7-4ac6-8a8e-fc4302ca0add" name="Valid HTTP Status Codes -200">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="filter" value="{&quot;field&quot;:&quot;keyName&quot;,&quot;operator&quot;:&quot;eq&quot;,&quot;value&quot;:&quot;QA.OLGAG&quot;}"/>
          <con:entry key="take" value="25"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="sortField" value="keyName"/>
          <con:entry key="skip" value="0"/>
          <con:entry key="entityid" value="${#TestSuite#currentEntityID}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="sortDir" value="asc"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>monitorId</con:entry>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry/>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="get_entity_history" id="895a1e04-4861-4714-b027-09540b397c6b">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/api/monitor/alert/entity/{entityId}" methodName="getEntityHistory" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="get_entity_history" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="JsonPath Count" id="49416787-e39e-4ce4-a51d-bd92ade162a9" name="Error count = 0">
          <con:configuration>
            <path>$['error']</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="a877d8e4-23f4-4216-8182-f1fe53ea19f7" name="alertHistory exists (JsonPath Existence Match)">
          <con:configuration>
            <path>$['alertHistory']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="94ab5b56-c6b7-4990-844d-0fadd71907ac" name="history events exist (JsonPath Existence Match)">
          <con:configuration>
            <path>$['alertHistory'][0]</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="gridParameters" value="{&quot;skip&quot;:0,&quot;take&quot;:25,&quot;filter&quot;:{&quot;logic&quot;:&quot;and&quot;,&quot;filters&quot;:[]},&quot;sortField&quot;:&quot;entityName&quot;,&quot;sortDir&quot;:&quot;desc&quot;}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="entityId" value="${#TestSuite#currentEntityID}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry>monitorId</con:entry>
          <con:entry>gridParameters</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="checkBaselineHistory" id="dfa52a6f-9207-4f35-802b-2c387f5e802f">
    <con:settings/>
    <con:config>
      <script>import groovy. json.*
import java.io.*;
import java.util.Iterator;
		def response=context.expand('${get_entity_history#Response}')		
		def json = new JsonSlurper().parseText(response)
		i = 0
		j = 0
		numMatched = 0
		array = new String[3]
		array[0] = 'Added';
		array [1] = 'Removed'
		array[2] = 'Modified'
		items =json['alertHistory'].size
		log.info(items)
		while(i &lt; items){
			log.info(json['alertHistory'][i])
			if(json['alertHistory'][i]['baselineType']){
					while(j &lt; 3){
						if(array[j].equals(json['alertHistory'][i]['baselineType'])){
							numMatched++
						}
						j++;
					}
					j=0
			}
				
			i++

		}
		
if(numMatched == 3){
	return true
}
else
return false;</script>
    </con:config>
  </con:testStep>
  <con:testStep type="assertionteststep" name="BaselineAddedModifiedRemoved" id="fa97b65c-a22b-4789-a83f-6734a46758da">
    <con:settings/>
    <con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:entry>
        <con:id>d0841856-079d-407f-8957-a11b74b40bb7</con:id>
        <con:isGroup>false</con:isGroup>
        <con:sourceId>dfa52a6f-9207-4f35-802b-2c387f5e802f</con:sourceId>
        <con:propertyName>result</con:propertyName>
        <con:assertion type="Simple Equals" name="Equals" id="6070d561-7a6e-4bf5-b2e2-9b2bed5b31cd">
          <con:configuration>
            <patternText>true</patternText>
            <caseSensitive>true</caseSensitive>
          </con:configuration>
        </con:assertion>
      </con:entry>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="exclude_entity" id="b53a28ef-c011-4eae-a776-cc6f360110c8">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/entity/exclude" methodName="entityManagerExcludedMonitor" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="exclude_entity" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request>{"monitorId":${#TestSuite#currentMonitorID},"entityIds":["${#TestSuite#currentEntityID}"]}</con:request>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes -200" id="dc9ff37f-388f-42c4-ab95-0d8ab4432809">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="get_list_excluded_entities" id="15b8fd89-db8c-445f-b030-0377c7453025">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/entity/excluded/{monitorId}" methodName="entityManagerGetListExcludedEntities" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="get_list_excluded_entities" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="JsonPath Count" id="49416787-e39e-4ce4-a51d-bd92ade162a9" name="Error count = 0">
          <con:configuration>
            <path>$['error']</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="a877d8e4-23f4-4216-8182-f1fe53ea19f7" name=" items exists (JsonPath Existence Match)">
          <con:configuration>
            <path>$['items']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="94ab5b56-c6b7-4990-844d-0fadd71907ac" name=" entityId exists (JsonPath Existence Match)">
          <con:configuration>
            <path>$['items'][0]['entityId']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="filter" value="{&quot;field&quot;:&quot;keyName&quot;,&quot;operator&quot;:&quot;eq&quot;,&quot;value&quot;:&quot;QA.OLGAG&quot;}"/>
          <con:entry key="take" value="25"/>
          <con:entry key="gridParameters" value="{&quot;skip&quot;:0,&quot;take&quot;:25,&quot;filter&quot;:{&quot;logic&quot;:&quot;and&quot;,&quot;filters&quot;:[]},&quot;sortField&quot;:&quot;entityName&quot;,&quot;sortDir&quot;:&quot;desc&quot;}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="sortField" value="keyName"/>
          <con:entry key="skip" value="0"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="sortDir" value="asc"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry>monitorId</con:entry>
          <con:entry>gridParameters</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="exclude_all" id="8f96c356-a16c-4c07-9939-959ec17214d1">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/entity/exclude" methodName="entityManagerExcludedMonitor" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="exclude_all" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request>{"monitorId":${#TestSuite#currentMonitorID}}</con:request>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes -200" id="dc9ff37f-388f-42c4-ab95-0d8ab4432809">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="get_list_included_entities2" id="5eeb0448-7029-422b-b08c-cd48300a3407">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/entity/included/{monitorId}" methodName="entityManagerGetListIncludedEntities" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="get_list_included_entities2" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="JsonPath Count" id="49416787-e39e-4ce4-a51d-bd92ade162a9" name="Error count = 0">
          <con:configuration>
            <path>$['error']</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="a877d8e4-23f4-4216-8182-f1fe53ea19f7" name="[items] exists">
          <con:configuration>
            <path>$['items']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="cf677b58-9a71-4129-a078-3df246886361" name=" [total] exists">
          <con:configuration>
            <path>$['total']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="gridParameters" value="{&quot;skip&quot;:0,&quot;take&quot;:25,&quot;filter&quot;:{&quot;logic&quot;:&quot;and&quot;,&quot;filters&quot;:[]},&quot;sortField&quot;:&quot;entityName&quot;,&quot;sortDir&quot;:&quot;desc&quot;}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry>monitorId</con:entry>
          <con:entry>gridParameters</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="include_entity" id="ee35e239-a292-4847-947d-586b75d5b4c5">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/entity/include" methodName="entityManagerIncludeMonitor" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="include_entity" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request>{"monitorId":${#TestSuite#currentMonitorID},"entityIds":["${#TestSuite#currentEntityID}"]}</con:request>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes -200" id="dc9ff37f-388f-42c4-ab95-0d8ab4432809">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="include_all" id="b793501f-789a-42f2-b96c-8cd6ffbe5569">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/entity/include" methodName="entityManagerIncludeMonitor" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="include_all" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request>{"monitorId":${#TestSuite#currentMonitorID}}</con:request>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes -200" id="dc9ff37f-388f-42c4-ab95-0d8ab4432809">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="get_list_excluded_entities3" id="d13562cd-2a35-4fff-a642-4387d14639ae">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/entity/excluded/{monitorId}" methodName="entityManagerGetListExcludedEntities" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="get_list_excluded_entities3" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="JsonPath Count" id="49416787-e39e-4ce4-a51d-bd92ade162a9" name="Error count = 0">
          <con:configuration>
            <path>$['error']</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="a877d8e4-23f4-4216-8182-f1fe53ea19f7" name="[items] exists">
          <con:configuration>
            <path>$['items']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Existence Match" id="b5b6aabe-806c-4dd1-ae37-14f534a019f4" name="[total] exists">
          <con:configuration>
            <path>$['total']</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="filter" value="{&quot;field&quot;:&quot;keyName&quot;,&quot;operator&quot;:&quot;eq&quot;,&quot;value&quot;:&quot;QA.OLGAG&quot;}"/>
          <con:entry key="take" value="25"/>
          <con:entry key="gridParameters" value="{&quot;skip&quot;:0,&quot;take&quot;:25,&quot;filter&quot;:{&quot;logic&quot;:&quot;and&quot;,&quot;filters&quot;:[]},&quot;sortField&quot;:&quot;entityName&quot;,&quot;sortDir&quot;:&quot;desc&quot;}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="sortField" value="keyName"/>
          <con:entry key="skip" value="0"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="sortDir" value="asc"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry>monitorId</con:entry>
          <con:entry>gridParameters</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="clear_alerts_monitor" id="85d7c330-27ec-49ac-ac6d-5a72df2753fa">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/monitor/{monitorId}/alerts/clear" methodName="clearAllAlerts" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="clear_alerts_monitor" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code = 200" id="bb794b51-54a1-4280-b9ef-83bd94e6d26c">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>monitorId</con:entry>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry/>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="delete_monitor" id="d8cc4e77-4a91-4548-a135-17d540c75e1d">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/xs1-loader/api/monitor/{monitorId}" methodName="deleteMonitor" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="delete_monitor" id="16c170dc-6741-472b-9d52-20fdd2554ee2" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://xs1qa3.xypro.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/api/monitor/2662</con:originalUri>
        <con:assertion type="JsonPath Count" id="49416787-e39e-4ce4-a51d-bd92ade162a9" name="Error count = 0">
          <con:configuration>
            <path>$['error']</path>
            <content>0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="JsonPath Match" id="1d44e70a-87fd-436b-bc2a-22456beba348" name="MonitorId is correct">
          <con:configuration>
            <path>$['monitor']['monitorId']</path>
            <content>${#TestSuite#currentMonitorID}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="monitorId" value="${#TestSuite#currentMonitorID}"/>
          <con:entry key="setActive" value="true"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
          <con:entry key="MonitorId" value="${#TestSuite#currentMonitorID}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>monitorId</con:entry>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
          <con:entry/>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Logout" id="e1b87225-7518-46f6-9717-8d24b3139deb">
    <con:settings/>
    <con:config service="XS1 API" resourcePath="/xs1/logout" methodName="logout" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:restRequest name="Logout" id="19c8389d-329a-4f2b-879f-ad35fe23942c" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>${#Project#endpoint}</con:endpoint>
        <con:request/>
        <con:originalUri>https://xs1qa2.xypro.com/xs1/login</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Code = 200" id="c11e6f0b-2dc0-46d0-885e-9833d8709ccb">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Cookie" value="${#Project#cookie}"/>
          <con:entry key="X-XSRF-TOKEN" value="${#Project#token}"/>
        </con:parameters>
        <con:parameterOrder>
          <con:entry>X-XSRF-TOKEN</con:entry>
          <con:entry>Cookie</con:entry>
        </con:parameterOrder>
        <con:environmentSpec>
          <con:entry environmentId="777bd7d4-187a-4b65-ad53-e609ad31b3f5">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="0d012796-e8d5-4398-9893-f92506140f2e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="e550e552-e905-4719-99f4-a0c68e2f48d8">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="b0ce29d2-283a-41b3-afc3-a97507050086">
            <con:authProfile>No Authorization</con:authProfile>
          </con:entry>
          <con:entry environmentId="375b6235-a7ab-438f-82f7-e243e92b9dd0">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="outputTimesToExcel" id="3587a4bf-4356-49a1-ac9f-1358401d2f45" disabled="true">
    <con:settings/>
    <con:config>
      <script><![CDATA[import groovy. json.*
import java.io.*;
import org.apache.poi.hssf.usermodel.HSSFWorkbook;
import org.apache.poi.hssf.usermodel.HSSFSheet;
import org.apache.poi.hssf.usermodel.HSSFRow;
import org.apache.poi.ss.usermodel.*;
import org.apache.poi.hssf.usermodel.*;
import java.util.Iterator;

		def projectDirectory = context.expand('${projectDir}')
		def fileName = projectDirectory + testRunner.testCase.testSuite.project.getPropertyValue("reportsFilename")
          log.info(fileName)

		File file = new File(fileName)
		
		FileInputStream fsIP= new FileInputStream(file); //Read the spreadsheet that needs to be updated
          HSSFWorkbook wb = new HSSFWorkbook(fsIP); //Access the workbook
          HSSFSheet worksheet = wb.getSheetAt(0); //Access the worksheet, so that we can update / modify it.
          
		String[] steps = ["get_list_included_entities", "baseline_all_entities", "select_entity", "baseline_entity", 
					   "delete_baseline_entity", "exclude_entity", "get_list_excluded_entities", "exclude_all","include_entity", "include_all"];

		//get all steps from Excel
          HashMap<String,Integer> stepsMap=new HashMap<String,Integer>();  
          for(int i = 1; i <= worksheet.getLastRowNum() ; i++){
          	HSSFRow row = worksheet.getRow(i);
			cell = row.getCell(0);
			def stepName = cell.toString();
               stepsMap.put(stepName,i);  
		}
	
		Cell cell = null; // declare a Cell object
		for(int i = 0; i < steps.length; i++){
			def currentStepName = steps[i];
			currentStepIndex = stepsMap.get(currentStepName);
			if (currentStepIndex!=null){
				def currentTestStep = testRunner.testCase.testSteps[currentStepName];
				if (currentTestStep == null){
					log.info("NOT FOUND PROJECT STEP " + currentStepName.toString());
				}
				else{
					def currentTestStepResponse = currentTestStep.testRequest.response;
					if (currentStepIndex != null && currentTestStepResponse != null){
						def response = currentTestStep.testRequest.response.timeTaken;
						log.info(response)
						HSSFRow row = worksheet.getRow(currentStepIndex);
						cell = row.getCell(9);
						cell.setCellValue(response);
					}
					else{
						log.info("NOT FOUND TIMETAKEN FOR " + currentStepName.toString());
					}
				}
			}
			else{
				log.info("NOT FOUND STEP IN EXCEL " + currentStepName.toString());
			}
		}	

		fsIP.close(); //Close the InputStream
		FileOutputStream output_file =new FileOutputStream(file);  //Open FileOutputStream to write updates
          wb.write(output_file); //write changes
          output_file.close();  //close the stream]]></script>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>97a405c1-5c08-4572-8008-16bcc439d725</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f551e91c-44ca-4785-b3f5-c40224e72ab4</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0c0898c1-69fe-4f86-afa8-ceaa8ffc0454</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e5002ffd-3b8f-4379-9571-3fd942d2c229</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>bfaaf7d4-2081-418f-8520-af52af20e2af</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d07896fa-48d4-4544-b90b-e5f947d2d41e</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>cffce04c-5062-4d0e-a915-77cedc3d9f63</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b199fd90-e12f-43a8-a478-5fbc96aaa7a1</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>85d7c330-27ec-49ac-ac6d-5a72df2753fa</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b53a28ef-c011-4eae-a776-cc6f360110c8</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ee35e239-a292-4847-947d-586b75d5b4c5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>e016a4dd-7941-47bc-8b33-e8f1cab7b8cb</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>15b8fd89-db8c-445f-b030-0377c7453025</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0b720a19-a82e-4552-99af-0b98857d6ee5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ed3e042d-4e1d-421a-9851-d6dabcfa58bf</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>8f96c356-a16c-4c07-9939-959ec17214d1</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>5eeb0448-7029-422b-b08c-cd48300a3407</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b793501f-789a-42f2-b96c-8cd6ffbe5569</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>d13562cd-2a35-4fff-a642-4387d14639ae</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>be98fecd-ed52-47d8-b59b-1f505b614927</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>895a1e04-4861-4714-b027-09540b397c6b</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>dfa52a6f-9207-4f35-802b-2c387f5e802f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>fa97b65c-a22b-4789-a83f-6734a46758da</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="1acccb02-b4b7-4e89-ae4b-e82d2719f308">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
